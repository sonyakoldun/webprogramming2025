<div class="form-container">
  <h2>Contact Us</h2>
  <p class="form-description">Use this template-driven form to send us a message</p>
  
  <app-error-message *ngIf="errorMessage" [message]="errorMessage"></app-error-message>
  
  <div *ngIf="successMessage" class="success-message">
    <div class="success-content">
      <span>{{ successMessage }}</span>
    </div>
  </div>
  
  <form #contactForm="ngForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="name">Name *</label>
      <input 
        type="text" 
        id="name" 
        name="name"
        [(ngModel)]="model.name"
        #name="ngModel"
        required
        minlength="3"
        placeholder="Enter your name"
      >
      <div class="error-text" *ngIf="name.invalid && (name.dirty || name.touched)">
        <span *ngIf="name.errors?.['required']">Name is required</span>
        <span *ngIf="name.errors?.['minlength']">Name must be at least 3 characters</span>
      </div>
    </div>
    
    <div class="form-group">
      <label for="email">Email *</label>
      <input 
        type="email" 
        id="email" 
        name="email"
        [(ngModel)]="model.email"
        #email="ngModel"
        required
        email
        placeholder="Enter your email"
      >
      <div class="error-text" *ngIf="email.invalid && (email.dirty || email.touched)">
        <span *ngIf="email.errors?.['required']">Email is required</span>
        <span *ngIf="email.errors?.['email']">Please enter a valid email</span>
      </div>
    </div>
    
    <div class="form-group">
      <label for="phone">Phone</label>
      <input 
        type="tel" 
        id="phone" 
        name="phone"
        [(ngModel)]="model.phone"
        #phone="ngModel"
        pattern="[0-9]{10}"
        placeholder="Enter your phone number (10 digits)"
      >
      <div class="error-text" *ngIf="phone.invalid && (phone.dirty || phone.touched)">
        <span *ngIf="phone.errors?.['pattern']">Please enter a valid 10-digit phone number</span>
      </div>
    </div>
    
    <div class="form-group">
      <label for="subject">Subject *</label>
      <input 
        type="text" 
        id="subject" 
        name="subject"
        [(ngModel)]="model.subject"
        #subject="ngModel"
        required
        placeholder="Enter message subject"
      >
      <div class="error-text" *ngIf="subject.invalid && (subject.dirty || subject.touched)">
        <span *ngIf="subject.errors?.['required']">Subject is required</span>
      </div>
    </div>
    
    <div class="form-group">
      <label for="message">Message *</label>
      <textarea 
        id="message" 
        name="message"
        [(ngModel)]="model.message"
        #message="ngModel"
        required
        minlength="10"
        rows="5"
        placeholder="Enter your message"
      ></textarea>
      <div class="error-text" *ngIf="message.invalid && (message.dirty || message.touched)">
        <span *ngIf="message.errors?.['required']">Message is required</span>
        <span *ngIf="message.errors?.['minlength']">Message must be at least 10 characters</span>
      </div>
    </div>
    
    <div class="form-actions">
      <button type="submit" [disabled]="contactForm.invalid" class="btn-primary">Send Message</button>
    </div>
  </form>
</div>
